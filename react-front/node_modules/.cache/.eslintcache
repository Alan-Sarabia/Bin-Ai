[{"/home/alan/Documents/GitHub/Bin-Ai/react-front/src/index.js":"1","/home/alan/Documents/GitHub/Bin-Ai/react-front/src/App.js":"2","/home/alan/Documents/GitHub/Bin-Ai/react-front/src/reportWebVitals.js":"3","/home/alan/Documents/GitHub/Bin-Ai/react-front/src/SVG/Background.js":"4","/home/alan/Documents/GitHub/Bin-Ai/react-front/src/Button/Button.js":"5","/home/alan/Documents/GitHub/Bin-Ai/react-front/src/Button/hashmap.js":"6","/home/alan/Documents/GitHub/Bin-Ai/react-front/src/Title/Title.js":"7","/home/alan/Documents/GitHub/Bin-Ai/react-front/src/Footer/Footer.js":"8"},{"size":244,"mtime":1635715304237,"results":"9","hashOfConfig":"10"},{"size":457,"mtime":1635716068151,"results":"11","hashOfConfig":"10"},{"size":362,"mtime":1635447561680,"results":"12","hashOfConfig":"10"},{"size":466,"mtime":1635701916993,"results":"13","hashOfConfig":"10"},{"size":4168,"mtime":1635698075882,"results":"14","hashOfConfig":"10"},{"size":91812,"mtime":1635695690758,"results":"15","hashOfConfig":"10"},{"size":184,"mtime":1635702107024,"results":"16","hashOfConfig":"10"},{"size":2993,"mtime":1635714756303,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1md02p6",{"filePath":"20","messages":"21","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"22","messages":"23","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"25","messages":"26","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"27","messages":"28","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"24"},{"filePath":"30","messages":"31","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"32","messages":"33","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},{"filePath":"34","messages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"24"},"/home/alan/Documents/GitHub/Bin-Ai/react-front/src/index.js",[],"/home/alan/Documents/GitHub/Bin-Ai/react-front/src/App.js",[],"/home/alan/Documents/GitHub/Bin-Ai/react-front/src/reportWebVitals.js",[],["36","37"],"/home/alan/Documents/GitHub/Bin-Ai/react-front/src/SVG/Background.js",[],"/home/alan/Documents/GitHub/Bin-Ai/react-front/src/Button/Button.js",["38","39"],"import React, { useState, useRef, useReducer } from \"react\";\nimport * as tf from '@tensorflow/tfjs' ;\nimport * as mobilenet from \"@tensorflow-models/mobilenet\";\nimport './Button.css'\nimport hashmap from \"./hashmap\";\nimport { useHistory } from \"react-router-dom\";\n//import Card from \"../Cards/Card\";\n//import 'bootstrap/dist/css/bootstrap.min.css';\n//import 'bootstrap/dist/css/bootstrap.min.css';\n\n/*import r1 from \"../img/r1.jpeg\";\nimport ob2 from '../img/ob2.jpg';\nimport desafio3 from '../img/desafio3.jpg'\nimport metal from '../img/metal.jpeg'*/\n\n\n\nconst machine = {\n  initial: \"initial\",\n  states: {\n    initial: { on: { next: \"loadingModel\" } },\n    loadingModel: { on: { next: \"modelReady\" } },\n    modelReady: { on: { next: \"imageReady\" } },\n    imageReady: { on: { next: \"identifying\" }, showImage: true },\n    identifying: { on: { next: \"complete\" } },\n    //tips: {on: {next: \"complete\"}, showImage: true, showResults: true},\n    complete: { on: { next: \"modelReady\" }, showImage: true, showResults: true }\n  }\n};\n\nfunction Button() {\n  \n\n  tf.setBackend(\"cpu\");\n  const history = useHistory();\n  const [results, setResults] = useState([]);\n  const [tips, setTips] = useState([]);\n  const [card, setCard] = useState([]);\n  const [imageURL, setImageURL] = useState(null);\n  const [model, setModel] = useState(null);\n  const imageRef = useRef();\n  const inputRef = useRef();\n\n  const reducer = (state, event) =>\n    machine.states[state].on[event] || machine.initial;\n\n  const [appState, dispatch] = useReducer(reducer, machine.initial);\n  const next = () => dispatch(\"next\");\n  \n\n   const loadModel = async () => {\n    next();\n    /* history.push(\"/hola\");*/\n    const model = await mobilenet.load();\n    setModel(model);\n    next();\n  };\n\n  const identify = async () => {\n    next();\n    const results = await model.classify(imageRef.current);\n    setResults(results);\n    const tips = hashmap(results[0].className);\n    //const card = Card({imageSource:metal, title: \"Reciclaje de Metales\", text:\"El proceso de reciclado empieza cuando el usuario separa sus residuos. Luego, se recogen y clasifican los distintos metales, para procesarlos por separado. Las latas de aluminio y acero se comprimen para llevarlas a la planta de reciclado correspondiente. Luego, se trituran y un imÃ¡n separa el acero del aluminio.\", url:\"https://www.serviciodedesguace.com/#Quehacemos\"});\n    setTips(tips)\n   // setCard(card)\n    next();\n  };\n\n  const reset = async () => {\n    setTips([]);\n    setResults([]);\n    next();\n  };\n\n  /*const consejo = async () => {\n    \n    next();\n  };*/\n\n  const upload = () => inputRef.current.click();\n\n  const handleUpload = event => {\n    const { files } = event.target;\n    if (files.length > 0) {\n      const url = URL.createObjectURL(event.target.files[0]);\n      setImageURL(url);\n      next();\n    }\n  };\n  \n  const actionButton = {\n    initial: { action: loadModel, text: \"Cargar modelo\" },\n    loadingModel: { text: \"Cargando modelo...\" },\n    modelReady: { action: upload, text: \"Subir imagen\" },\n    imageReady: { action: identify, text: \"Identificar\" },\n    identifying: { text: \"Identificando...\" },\n    //tips: {action: consejo, text: \"tips\"},\n    complete: { action: reset, text: \"Resetear\" }\n  };\n\n  const { showImage, showResults } = machine.states[appState];\n//Te dice como reciclar\n    if (typeof results[0] !== 'undefined') {\n      // your code here\n\n    }\n    \n  return (\n    <div  >\n      \n      {showImage && <img src={imageURL} alt=\"upload-preview\" ref={imageRef} />}\n      <input hidden\n        type=\"file\"\n        accept=\"image/*\"\n        capture=\"camera\"\n        onChange={handleUpload}\n        ref={inputRef}\n      />\n      {showResults && (\n        <ul>\n          {results.map(({ className, probability }) => (\n            <li key={className}>{`${className}: %${(probability * 100).toFixed(\n              2\n            )}`}</li>\n          ))}\n        </ul>\n      )}\n      \n      <p>{tips}\n      {card}</p>\n      <button class=\"btn effect01\" target=\"_blank\"onClick={actionButton[appState].action || (() => {})}>\n        {actionButton[appState].text} \n      </button>\n\n    </div>\n  );\n}\n\nexport default Button;\n","/home/alan/Documents/GitHub/Bin-Ai/react-front/src/Button/hashmap.js",[],"/home/alan/Documents/GitHub/Bin-Ai/react-front/src/Title/Title.js",[],"/home/alan/Documents/GitHub/Bin-Ai/react-front/src/Footer/Footer.js",[],{"ruleId":"40","replacedBy":"41"},{"ruleId":"42","replacedBy":"43"},{"ruleId":"44","severity":1,"message":"45","line":35,"column":9,"nodeType":"46","messageId":"47","endLine":35,"endColumn":16},{"ruleId":"44","severity":1,"message":"48","line":38,"column":16,"nodeType":"46","messageId":"47","endLine":38,"endColumn":23},"no-native-reassign",["49"],"no-negated-in-lhs",["50"],"no-unused-vars","'history' is assigned a value but never used.","Identifier","unusedVar","'setCard' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]